name: CI
on: [push,  workflow_dispatch]

jobs:
  build:
    runs-on: windows-latest

    steps:
      - name: Checkout Code
        uses: actions/checkout@v2
            
      - name: Setup MSBuild Path
        uses: warrenbuckley/Setup-MSBuild@v1
    
      - name: Setup Nuget
        uses: NuGet/setup-nuget@v1.0.2
        
      - name: Restore NuGet Packages
        run: nuget restore GHActionsCI.sln
      
      - name: Build
        run: msbuild GHActionsCI.sln /p:Configuration=Release
      
      - name: Upload artifact
        uses: actions/upload-artifact@v1.0.0
        with:
          name: publishRelease
          path: Src\GHActionsCI\bin\Release\  
